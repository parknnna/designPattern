## Java Design Pattern

## 파사드 패턴(Facade Pattern)

```
파사드는 요즘과 같이 협업과 대형 시스템을 개발하고 배포하는 데 자주 응용되는 패턴이다. (API 등)
파사드 패턴은 강력한 결합 구조를 해결하기 위해 코드의 의존성을 줄이고 느슨한 결합으로 구조를 변경한다.  
```

### 파사드 패팬이란?
* 파사드 패턴이란 서브 시스템을 보다 쉽게 쓸 수 있도록 높은 수준의 인터페이스를 정의하는 작업으로, 이미 수많은 API 서비스와 라이브러리, 패키지에서 파사드 패턴 응용 중이다.
* 파사드 패턴은 강력한 결합 구조를 해결하기 위해 코드의 의존성을 줄이고 느슨한 결합으로 구조를 변경한다.
* 파사드 패턴은 메인 시스템과 서브 시스템 중간에 위치하는데, 새로운 인터페이스 계층을 추가하며 시스템 간 의존성을 해결한다. 인터페이스 계층은 메인 시스템과 서브 시스템의 연결 관계를 대신 처리한다.
* 서브 시스템을 호출, 결합할 수 있는 인터페이스를 제공한다. 인터페이스는 한 개 일 수 있고 여러 개 일 수도 있고 또는 이를 함수 형태로 제공하기도 한다.
* 객체의 내부 구조를 상세히 알 필요는 없다. 파사드는 시스템의 연결성과 종속성을 최소화하는 것을 목적으로 한다.

### 최소 지식 원칙 (디미터 / 데메테르 원칙)
* 최소 지식만 적용해 객체의 상호 작용을 설정하면 유지 보수가 용이해진다.
* 불필요한 객체의 생성 루틴과 재호출을 코드에 코드에 삽입해 코드의 가독성과 복잡성을 증가시키지 않도록 한다.
* 최소 지식의 원칙
  * 자기 자신만의 객체 사용
  * 메서드에 전달된 매개변수 사용
  * 메서드에서 생성된 객체 사용
  * 객체에 속하는 메서드 사용

```java
public class Car {
    // 클래스의 구성 요소
    // 구성 요소의 메서드는 호출해도 된다.
    private Engine engine;
 
    public Car(Engine engine) {
        this.engine = engine;
    }
 
    public void start(CarKey key) {
        // 새로운 객체 생성
        // 내부에서 생성된 객체의 메서드는 호출해도 된다.
        Doors doors = new Doors();
 
        // 매개 변수로 전달된 객체의 메서드는 호출해도 된다.
        boolean authorized = key.turns();
 
        if (authorized) {
            // 객체의 구성 요소의 메서드는 호출해도 된다.
            engine.start();
 
            // 객체 내에 있는 메서드는 호출해도 된다.
            this.updateDashboardDisplay();
 
            // 직접 생성하거나 인스턴스를 만든 객체의 메서드는 호출해도 된다.
            doors.locks();
        }
    }
 
    private void updateDashboardDisplay() {
    }
}
```

### 파사드 패턴 구조
![FacadePattern](https://github.com/parknnna/designPattern/assets/69619672/c5988c8d-1a61-4997-9f84-53bed6225eb7)


### 파사드 패턴의 효과
* 서브 시스템 보호
  * 서브 시스템의 구성 요소를 직접 호출하지 않으므로 잘못된 사용을 방지
  * 내부 구조와 외부 사용을 구분하므로 추후 서브시스템 업그레이드에 자유로움
* 확장성
  * 코드 변경 시 상위 시스템에는 파사드를 이용하므로 서브 시스템이 변경되어도 큰 변화를 느낄 수 없음.
  * 확장성을 고려하면서 서브 시스템 기능을 유지할 수 있도록 완충하는 역할
* 결합도 감소
  * 서브 시스템이 복잡하고 종속성이 강할 때는 파사드 패턴 이용
  * 복잡한 종속적 결함도를 낮추고 독립적인 코드 유지 가능
* 계층화
  * 서브 시스템이 계층화된 구조를 갖더라도 파사드는 계층 단계별로 접근하여 행위를 호출할 수 있음.
* 이식성
  * 여러 작업을 하나의 묶음으로 처리하여 복잡한 클래스 단순화
  * 서브 시스템을 공통적으로 사용할 수 있도록 이식성을 향상
* 공개 인터페이스
  * 외부에 공개되는 기능과 공개되지 않는 기능을 구분 가능
  * 인터페이스를 제공함과 동시에 서브 시스템의 기능을 캡슐 화하여 일시적으로 특정 기능을 감추는 효과를 얻을 수 있음